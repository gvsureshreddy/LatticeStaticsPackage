# -*- mode: Perl -*-
# Main Parameters

# Main LatticeStatics Program Parameters
%Main = (FieldWidth     => 20,
         Precision      => 12,
         );

# Lattice Parameters
$DEG2RAD = atan2(1,1)*4/180;
$PI = atan2(1,1)*4.0;

%Lattice = (Type            => FEAP,
            LSKAnalysis    => None,
            TurningPointRestarts => Yes,
            FEAP => {FEAPInputFileName => Ihoney,
                     Tolerance         => 1.0e-10, # for numerical derivatives
                     Nbn             => 14,
                     PhantomEnergyEpsilon => 1.0,
                     Nuc => 4,
                     BoundNodes => [1, 21, 23, 59, 2, 58, 22], 
                     PeriodicNodes => [41, 60, 6, 43, 61, 5, 42], 
                     Loading => { Type => DeadLoad,#DisplacementControl, # PressureLoad
                                   BioStress => [[-1.0, 0.0],[0.0, -1.0]],
                                  #StretchRatio => 1.0,
                                },
                     ExtraTestFunctions => { Type =>  None, #BlochWaveAnalysis, #LoadingParameter,  
                                             AnalysisType => KVectors,                    
                                             DynamicalStiffnessInfo => [[1,0,15,1],[1,1,17,2],[0,1,19,3]],
                                             KVectors => [[0.0,0.0],[0.0,0.5],[0.5,0.0],[0.5,0.5]],
                     }
            }
    );
  
#  Restriction Parameters
% Restriction = (Type           =>  RestrictToTranslatedSubSpace, # NoRestriction, #
                 RestrictToTranslatedSubSpace => { ProjectionMatrix =>[[0.7071067811865475,0.7071067811865475,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000],
[0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,-0.0000000000000001,0.0000000000000000,-0.0000000000000001,-0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000001,0.0000000000000000,0.0000000000000002,-0.0000000000000003,0.0000000000000000,0.0000000000000002,-0.0000000000000001,0.0000000000000000,0.0000000000000001,-0.0000000000000001,0.0000000000000000,-0.0000000000000001,0.0000000000000001,0.0000000000000000,-0.0000000000000001,-0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.1767766952966368,0.1020620726159658,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,-0.2041241452319315,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.1767766952966368,0.1020620726159656,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.1767766952966368,-0.1020620726159658,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000001,0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1767766952966370,-0.1020620726159657,0.0000000000000000,-0.0000000000000001,-0.0000000000000001,0.0000000000000000,0.0000000000000002,-0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.1767766952966368,0.1020620726159658,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,-0.2041241452319315,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.1767766952966368,0.1020620726159656,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.1767766952966368,-0.1020620726159658,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000001,0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1767766952966370,-0.1020620726159657,0.0000000000000000,-0.0000000000000001,0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.1767766952966368,0.1020620726159658,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,-0.2041241452319315,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.1767766952966368,0.1020620726159657,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.1767766952966368,-0.1020620726159658,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000001,0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1767766952966370,-0.1020620726159657,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.1767766952966368,0.1020620726159658,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,-0.2041241452319315,0.0000000000000000,-0.0000000000000000,-0.0000000000000001,0.0000000000000000,0.1767766952966368,0.1020620726159656,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.1767766952966368,-0.1020620726159658,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000001,0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1767766952966370,-0.1020620726159657,0.0000000000000000],
[0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000002,0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000001,0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000000,-0.0000000000000000,-0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000003,0.0000000000000000,-0.0000000000000001,0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1668694522250518,0.0963421231616592,0.0000000000000000,-0.0583488295864722,0.0336877124686493,0.0000000000000000,-0.0000000000000001,-0.1926842463233181,0.0000000000000000,-0.0000000000000000,-0.0673754249372985,0.0000000000000000,0.1668694522250518,0.0963421231616590,0.0000000000000000,0.0583488295864722,0.0336877124686492,0.0000000000000000,0.1668694522250518,-0.0963421231616592,0.0000000000000000,0.0583488295864722,-0.0336877124686493,0.0000000000000000,0.0000000000000001,0.1926842463233181,0.0000000000000000,0.0000000000000000,0.0673754249372985,0.0000000000000000,-0.1668694522250519,-0.0963421231616590,0.0000000000000000,-0.0583488295864722,-0.0336877124686493,0.0000000000000000,-0.0000000000000001,0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1668694522250518,0.0963421231616592,0.0000000000000000,-0.0583488295864722,0.0336877124686493,0.0000000000000000,-0.0000000000000001,-0.1926842463233181,0.0000000000000000,-0.0000000000000000,-0.0673754249372985,0.0000000000000000,0.1668694522250518,0.0963421231616590,0.0000000000000000,0.0583488295864722,0.0336877124686492,0.0000000000000000,0.1668694522250518,-0.0963421231616592,0.0000000000000000,0.0583488295864722,-0.0336877124686493,0.0000000000000000,0.0000000000000001,0.1926842463233181,0.0000000000000000,0.0000000000000000,0.0673754249372985,0.0000000000000000,-0.1668694522250519,-0.0963421231616590,0.0000000000000000,-0.0583488295864722,-0.0336877124686493,0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1668694522250518,0.0963421231616592,0.0000000000000000,-0.0583488295864722,0.0336877124686493,0.0000000000000000,-0.0000000000000001,-0.1926842463233181,0.0000000000000000,-0.0000000000000000,-0.0673754249372985,0.0000000000000000,0.1668694522250518,0.0963421231616590,0.0000000000000000,0.0583488295864722,0.0336877124686491,0.0000000000000000,0.1668694522250518,-0.0963421231616592,0.0000000000000000,0.0583488295864722,-0.0336877124686493,0.0000000000000000,0.0000000000000001,0.1926842463233181,0.0000000000000000,0.0000000000000000,0.0673754249372985,0.0000000000000000,-0.1668694522250519,-0.0963421231616590,0.0000000000000000,-0.0583488295864722,-0.0336877124686493,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.1668694522250518,0.0963421231616592,0.0000000000000000,-0.0583488295864722,0.0336877124686493,0.0000000000000000,-0.0000000000000001,-0.1926842463233181,0.0000000000000000,-0.0000000000000000,-0.0673754249372985,0.0000000000000000,0.1668694522250518,0.0963421231616588,0.0000000000000000,0.0583488295864722,0.0336877124686492,0.0000000000000000,0.1668694522250518,-0.0963421231616592,0.0000000000000000,0.0583488295864722,-0.0336877124686493,0.0000000000000000,0.0000000000000001,0.1926842463233181,0.0000000000000000,0.0000000000000000,0.0673754249372985,0.0000000000000000,-0.1668694522250519,-0.0963421231616590,0.0000000000000000,-0.0583488295864722,-0.0336877124686493,0.0000000000000000],
],                                                  }   
);

# SolutionMethod Parameters
$ArcLenDSMax = 0.01;

       
%SolutionMethod = (Type               => NewtonPCSolution, # RefineEqbmSolution, ArcLengthSolution, ScanningSolution, NewtonPCSolution
                   NewtonPCSolution   => {UpdateType       => QRUpdate, # Default value = QRUpdate; NoUpdate, StiffnessUpdate, Exact
                                          NumSolutions        => 1000,
					  BisectCP	      => Yes,
                                          MaxDS               => 0.5,
                                          CurrentDS           => 0.25,
                                          MinDS               => 1e-11,
                                          Contraction         => 0.1,
                                          Distance            => 0.005,
                                          Angle               => 10*$DEG2RAD,
                                          ConvergeCriteria    => 1e-10,
                                          #ConvergeType        => Both, # Default value = Both, Force, Displacement
                                          #ClosedLoopStart     => 30, # Default value = 30
                                          MaxCumulativeArcLength => 100.0,
                                          #StopAtCPCrossingNum => -1, # Default value = -1
                                          #Direction           => 1, # Default value = 1
                                          #Acceleration        => 2.0, # Default value = 2.0
                                          #StopAtMinDS         => Yes # Default value = Yes, No
                                         },
                   RefineEqbmSolution => {ConvergeCriteria => 1e-11 #,
                                         }
                  );
