# -*- mode: Perl -*-
# Main Parameters

# Main LatticeStatics Program Parameters
%Main = (FieldWidth     => 20,
         Precision      => 12,
         );

# Lattice Parameters
$DEG2RAD = atan2(1,1)*4/180;
$PI = atan2(1,1)*4.0;

%Lattice = (Type            => FEAP,
            LSKAnalysis    => None,
            TurningPointRestarts => Yes,
            FEAP => {FEAPInputFileName => Ihoney,
                     Tolerance         => 1.0e-10, # for numerical derivatives
                     Nbn             => 6,
                     PhantomEnergyEpsilon => 1.0,
                     Nuc => 1,
                     BoundNodes => [1, 3, 2], 
                     PeriodicNodes => [4, 6, 5],   
                     Loading => { Type => DeadLoad, #PressureLoad, DisplacementControl
                                  BioStress => [[-1.0, 0.0],[0.0, -1.0]],
                                },                
                     ExtraTestFunctions => { Type =>  None, #BlochWaveAnalysis, #LoadingParameter,  
                                             AnalysisType => Full, #KVectors,                    
                                             DynamicalStiffnessInfo => [[1,0,15,1],[1,1,17,2],[0,1,19,3]],
                                             KSpaceResolution => 15,
                                             #KVectors => [[0.0,0.0],[0.0,0.5],[0.5,0.0],[0.5,0.5]],
                                             #KVectors => [[0.0,0.0],[0.0,0.666666],[0.666666,0.0],[0.666666,0.666666]],
                                        	}
                	}
        	);
  
#  Restriction Parameters
% Restriction = (Type           =>  RestrictToTranslatedSubSpace, # NoRestriction, #
                 RestrictToTranslatedSubSpace => { ProjectionMatrix => [[0.7071067811865475,0.7071067811865475,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000],
[0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.3535533905932738,0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,-0.4082482904638631,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.3535533905932737,0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.3535533905932737,-0.2041241452319315,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.4082482904638631,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.3535533905932739,-0.2041241452319315,0.0000000000000000],
[0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.3533730649056492,-0.2040200341476396,0.0000000000000000,-0.0112905712516185,0.0065186143514266,0.0000000000000000,0.0000000000000000,0.4080400682952792,0.0000000000000000,-0.0000000000000000,-0.0130372287028532,0.0000000000000000,-0.3533730649056491,-0.2040200341476396,0.0000000000000000,0.0112905712516184,0.0065186143514266,0.0000000000000000,-0.3533730649056492,0.2040200341476402,0.0000000000000000,0.0112905712516184,-0.0065186143514266,0.0000000000000000,0.0000000000000000,-0.4080400682952792,0.0000000000000000,-0.0000000000000000,0.0130372287028532,0.0000000000000000,0.3533730649056492,0.2040200341476396,0.0000000000000000,-0.0112905712516185,-0.0065186143514266,0.0000000000000000],
],

                 }
    );

# SolutionMethod Parameters
$ArcLenDSMax = 0.01;

       
%SolutionMethod = (Type               => NewtonPCSolution, # RefineEqbmSolution, ArcLengthSolution, ScanningSolution, NewtonPCSolution
                   NewtonPCSolution   => {UpdateType       => QRUpdate, # Default value = QRUpdate; NoUpdate, StiffnessUpdate, Exact
                                          NumSolutions        => 1000,
					  BisectCP	      => Yes,
                                          MaxDS               => 0.005,
                                          CurrentDS           => 0.005,
                                          MinDS               => 1e-12,
                                          Contraction         => 0.1,
                                          Distance            => 0.005,
                                          Angle               => 10*$DEG2RAD,
                                          ConvergeCriteria    => 1e-12,
                                          #ConvergeType        => Both, # Default value = Both, Force, Displacement
                                          #ClosedLoopStart     => 30, # Default value = 30
                                          MaxCumulativeArcLength => 5.0,
                                          #StopAtCPCrossingNum => -1, # Default value = -1
                                          #Direction           => 1, # Default value = 1
                                          #Acceleration        => 2.0, # Default value = 2.0
                                          #StopAtMinDS         => Yes # Default value = Yes, No
                                         },
                   RefineEqbmSolution => {ConvergeCriteria => 1e-13 #,
                                         }
                  );
