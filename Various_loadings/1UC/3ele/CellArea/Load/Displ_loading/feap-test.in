# -*- mode: Perl -*-
# Main Parameters

# Main LatticeStatics Program Parameters
%Main = (FieldWidth     => 20,
         Precision      => 12,
         );

# Lattice Parameters
$DEG2RAD = atan2(1,1)*4/180;
$PI = atan2(1,1)*4.0;

%Lattice = (Type            => FEAP,
            LSKAnalysis    => None,
            TurningPointRestarts => Yes,
            FEAP => {FEAPInputFileName => Ihoney,
                     Tolerance         => 1.0e-10, # for numerical derivatives
                     Nbn             => 6,
                     PhantomEnergyEpsilon => 1.0,
                     Nuc => 1,
                     BoundNodes => [1, 3, 2], 
                     PeriodicNodes => [4, 6, 5],   
                     Loading => { Type => DisplacementControl, #DeadLoad, PressureLoad
                                  # BioStress => [[-1.0, 0.0],[0.0, -1.0]],
                                  StretchRatio => 1.0,
                                },                
                     ExtraTestFunctions => { Type =>  BlochWaveAnalysis, #None, #LoadingParameter,  
                                             AnalysisType => Full, #KVectors,                    
                                             DynamicalStiffnessInfo => [[1,0,15,1],[1,1,17,2],[0,1,19,3]],
                                             KSpaceResolution => 15,
                                             #KVectors => [[0.0,0.0],[0.0,0.5],[0.5,0.0],[0.5,0.5]],
                                             #KVectors => [[0.0,0.0],[0.0,0.666666],[0.666666,0.0],[0.666666,0.666666]],
                                        	}
                	}
        	);
  
#  Restriction Parameters
% Restriction = (Type           =>  RestrictToTranslatedSubSpace, # NoRestriction, #
                 RestrictToTranslatedSubSpace => { ProjectionMatrix => [[0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000001,-0.0000000000000000,0.0000000000000000,-0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.3526393673428698,0.2035964336622654,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,-0.4071928673245305,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.3526393673428700,0.2035964336622652,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.3526393673428698,-0.2035964336622653,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000001,0.4071928673245305,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.3526393673428700,-0.2035964336622652,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000],
[-0.0000000000000000,-0.0000000000000000,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0000000000000000,-0.0000000000000001,0.0000000000000000,-0.0000000000000000,0.0000000000000000,0.0000000000000000,0.0120963847320932,-0.0069838509812952,0.0000000000000000,-0.3530336257416579,0.2038240588549359,0.0000000000000000,0.0000000000000001,0.0139677019625906,0.0000000000000000,-0.0000000000000001,-0.4076481177098716,0.0000000000000000,-0.0120963847320933,-0.0069838509812952,0.0000000000000000,0.3530336257416579,0.2038240588549356,0.0000000000000000,-0.0120963847320931,0.0069838509812952,0.0000000000000000,0.3530336257416576,-0.2038240588549361,0.0000000000000000,-0.0000000000000000,-0.0139677019625905,0.0000000000000000,0.0000000000000001,0.4076481177098716,0.0000000000000000,0.0120963847320931,0.0069838509812953,0.0000000000000000,-0.3530336257416580,-0.2038240588549357,0.0000000000000000],
],
                 }
    );

# SolutionMethod Parameters
$ArcLenDSMax = 0.01;

       
%SolutionMethod = (Type               => NewtonPCSolution, # RefineEqbmSolution, ArcLengthSolution, ScanningSolution, NewtonPCSolution
                   NewtonPCSolution   => {UpdateType       => QRUpdate, # Default value = QRUpdate; NoUpdate, StiffnessUpdate, Exact
                                          NumSolutions        => 1000,
					  BisectCP	      => Yes,
                                          MaxDS               => 0.001,
                                          CurrentDS           => 0.001,
                                          MinDS               => 1e-12,
                                          Contraction         => 0.1,
                                          Distance            => 0.005,
                                          Angle               => 10*$DEG2RAD,
                                          ConvergeCriteria    => 1e-12,
                                          #ConvergeType        => Both, # Default value = Both, Force, Displacement
                                          #ClosedLoopStart     => 30, # Default value = 30
                                          MaxCumulativeArcLength => 2.0,
                                          #StopAtCPCrossingNum => -1, # Default value = -1
                                          Direction           => -1, # Default value = 1
                                          #Acceleration        => 2.0, # Default value = 2.0
                                          #StopAtMinDS         => Yes # Default value = Yes, No
                                         },
                   RefineEqbmSolution => {ConvergeCriteria => 1e-13 #,
                                         }
                  );
